(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],u=0,f=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"014f":function(t,e,a){"use strict";var n=a("d997"),i=a.n(n);i.a},"034f":function(t,e,a){"use strict";var n=a("85ec"),i=a.n(n);i.a},"0555":function(t,e,a){"use strict";var n=a("d6b0"),i=a.n(n);i.a},"1e3e":function(t,e,a){},"1e51":function(t,e,a){"use strict";var n=a("25b5"),i=a.n(n);i.a},"25b5":function(t,e,a){},4145:function(t,e,a){"use strict";var n=a("e412"),i=a.n(n);i.a},4240:function(t,e,a){"use strict";var n=a("f198"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4989"),a("c1c3");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"landing",staticStyle:{"min-height":"100vh","background-color":"#b8bfbb"},attrs:{id:"app"}},[a("Navigation",{staticClass:"frame",staticStyle:{"min-height":"5vh"}}),a("router-view",{staticClass:"frame",staticStyle:{"min-height":"95vh"}}),a("login-modal")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light",staticStyle:{"background-color":"#33443c !important"}},[a("router-link",{attrs:{to:{path:"/"}}},[t._v("CoronaExchange")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{path:"/"}}},[t._v("Produkte finden")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{path:"/Chat"}}},[t._v("Chats")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{path:"/Account"}}},[t._v("Account")])],1),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return t.modalToggle()}}},[t._v("Login")])])])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l={methods:{modalToggle:function(){this.$modal.show()}}},c=l,d=(a("4240"),a("2877")),u=Object(d["a"])(c,r,o,!1,null,"fa3a438c",null),f=u.exports,m={name:"App",created:function(){document.title="Corona Exchange"},components:{Navigation:f},mounted:function(){}},p=m,h=(a("034f"),Object(d["a"])(p,i,s,!1,null,null,null)),g=h.exports,v=a("8aa5"),b=a.n(v),_=a("8c4f"),w=(a("6cc5"),a("dc60")),y=(a("1881"),a("c9b9"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{staticClass:"modal-wrapper"},[t.loginMethods?a("div",[a("p",{staticClass:"closeModal h2 mb-2",on:{click:function(e){return t.hide()}}},[a("b-icon",{attrs:{icon:"x-square-fill"}})],1),a("div",{staticClass:"firebaseui-card-content",staticStyle:{"text-align-last":"center"}},[a("button",{staticClass:"Signup firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-password firebaseui-id-idp-button",staticStyle:{"margin-top":"0"},on:{click:function(e){return t.ToggleLogin()}}},[t._v("Login")]),a("br"),a("button",{staticClass:"Signup firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-password firebaseui-id-idp-button",on:{click:function(e){return t.googleLogin()}}},[t._v("Login with Google")]),a("br"),a("br"),a("br"),a("button",{staticClass:"Signup firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-password firebaseui-id-idp-button",on:{click:function(e){return t.ToggleRegister()}}},[t._v("Sign up")])])]):t._e(),t.register?a("div",[a("div",{staticClass:"card-header",staticStyle:{display:"flex","justify-content":"space-between",padding:"2.5px","background-color":"#33443c",color:"white"}},[a("p",{staticStyle:{"margin-top":"auto","margin-left":"1vw","font-weight":"600"}},[t._v("Registrieren")]),a("p",{staticClass:"closeModal h2 mb-2",on:{click:function(e){return t.hide()}}},[a("b-icon",{attrs:{icon:"x-square-fill"}})],1)]),a("div",{staticClass:"card-body"},[t.error?a("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"}},[t._v("Name")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{id:"name",type:"name",name:"name",value:"",required:"",autofocus:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email",value:"",required:"",autofocus:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",name:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})])]),t._m(0)])])]):t._e(),t.login?a("div",[a("div",{staticClass:"card-header",staticStyle:{display:"flex","justify-content":"space-between",padding:"2.5px","background-color":"#33443c",color:"white"}},[a("p",{staticStyle:{"margin-top":"auto","margin-left":"1vw","font-weight":"600"}},[t._v("Registrieren")]),a("p",{staticClass:"closeModal h2 mb-2",on:{click:function(e){return t.hide()}}},[a("b-icon",{attrs:{icon:"x-square-fill"}})],1)]),a("div",{staticClass:"card-body"},[t.error?a("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Email")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email",value:"",required:"",autofocus:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Password")]),a("div",{staticClass:"col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",name:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})])]),t._m(1)])])]):t._e()]):t._e()}),C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row mb-0"},[a("div",{staticClass:"col-md-8 offset-md-4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Register")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row mb-0"},[a("div",{staticClass:"col-md-8 offset-md-4"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Register")])])])}],P=(a("b0c0"),a("2398"),{data:function(){return{form:{name:"",email:"",password:""},visible:!1,error:null,login:!1,register:!1,loginMethods:!0,ui:null}},beforeMount:function(){var t=this;L.EventBus.$on("show",(function(e){t.show(e)}))},mounted:function(){},methods:{ToggleRegister:function(){this.login=!1,this.loginMethods=!1,this.register=!0},ToggleLogin:function(){this.loginMethods=!1,this.register=!1,this.login=!0},googleLogin:function(){var t=this,e=new b.a.auth.GoogleAuthProvider;b.a.auth().signInWithPopup(e).then((function(e){t.hide()})).catch((function(t){alert("Something went wrong")}))},submit:function(){var t=this;this.register?b.a.auth().createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(e){e.user.updateProfile({displayName:t.form.name}).then((function(){t.register=!1,t.login=!1,t.visible=!1}))})).catch((function(e){t.error=e.message})):this.login&&b.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){console.log(e),t.hide()}))},show:function(t){this.visible=!0,this.loginMethods=!0},hide:function(){this.visible=!1,this.loginMethods=!1,this.login=!1,this.register=!1},confirm:function(){}}}),x=P,k=(a("0555"),Object(d["a"])(x,y,C,!1,null,"670f4c1f",null)),S=k.exports,A={install:function(t,e){this.EventBus=new t,t.component("login-modal",S),t.prototype.$modal={show:function(t){A.EventBus.$emit("show",t)}}}},L=A,O=a("5f5b"),$=a("b1e0"),T=a("bc3a"),I=a.n(T),M=(a("51de"),a("e094"),a("43f9")),E=a.n(M),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"landing",attrs:{id:"app"}},[a("MapView",{attrs:{items:t.filteredItems}}),a("div",{staticClass:"jumbotron"},[a("div",{staticClass:"container"},[a("ItemSearch",{attrs:{searchFilter:t.filterKeywords.searchFilter,offeringsFilter:t.filterKeywords.offeringsFilter},on:{filterBySearch:t.filterBySearch,filterByOffer:t.filterByOffer}})],1)]),a("div",{staticClass:"container"},[a("ItemList",{attrs:{items:t.filteredItems},on:{contactUser:t.contactUser}})],1),a("div",{staticClass:"modal fade",attrs:{id:t.contactUserId,tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("textarea",{staticClass:"form-control",attrs:{name:"",id:"modal-text",rows:"4"}},[t._v("Hallo, ich würde gerne "+t._s(t.selectedUser.tradeFor)+" gegen "+t._s(t.selectedUser.offer)+" tauschen. Wollen wir dazu einen Treffpunkt vereinbaren?")])]),t._m(1)])])])],1)},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("Tauschpartnerchat")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Abbrechen")]),a("button",{staticClass:"btn btn-primary",staticStyle:{"background-color":"#668659"},attrs:{type:"button"}},[t._v("Nachricht senden")])])}],N=(a("4de4"),a("c975"),a("d81d"),a("a9e3"),a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[a("div",{staticClass:"row align-items-end justify-content-md-center"},[a("div",{staticClass:"col-12 col-md-5 col-lg-4 mb-4 mb-md-0 form-group"},[a("label",{attrs:{for:"item-offer"}},[t._v("Ich suche")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter_by_search,expression:"filter_by_search"}],staticClass:"form-control",attrs:{id:"item-search"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter_by_search=e.target.multiple?a:a[0]},function(e){return t.$emit("filterBySearch",t.filter_by_search)}]}},[a("option",{attrs:{value:"Alles"}},[t._v("Alles")]),t._l(t.searchFilter,(function(e,n){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"col-12 col-md-5 col-lg-4 mb-4 mb-md-0 form-group"},[a("label",{attrs:{for:"item-offer"}},[t._v("Ich biete")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter_by_offer,expression:"filter_by_offer"}],staticClass:"form-control",attrs:{id:"item-offer"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter_by_offer=e.target.multiple?a:a[0]},function(e){return t.$emit("filterByOffer",t.filter_by_offer)}]}},[a("option",{attrs:{value:"Alles"}},[t._v("Alles")]),t._l(t.offeringsFilter,(function(e,n){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),t._m(0)])])}),R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 col-md-2 col-lg-2 mb-0 form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Suchen")])])}],U={name:"ItemSearch",props:["searchFilter","offeringsFilter"],data:function(){return{filter_by_search:"",filter_by_offer:""}}},q=U,B=(a("1e51"),Object(d["a"])(q,N,R,!1,null,"1638306a",null)),z=B.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table",attrs:{id:"item-list"}},[t._m(0),a("tbody",t._l(t.items,(function(e,n){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.offer))]),a("td",[t._v(t._s(e.tradeFor))]),a("td",[a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(a){return t.$emit("contactUser",e)}}},[t._v("Kontaktieren")])])])})),0)])])])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Bietet")]),a("th",{attrs:{scope:"col"}},[t._v("Sucht")]),a("th",{attrs:{scope:"col"}},[t._v("Kontakt")])])])}],K={name:"ItemList",props:["items"]},W=K,G=(a("98c2"),Object(d["a"])(W,D,H,!1,null,"1d2d13b8",null)),J=G.exports,V=(a("8c84"),a("1157")),Q=a.n(V),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("l-map",{ref:"myMap",staticClass:"map",attrs:{center:t.center,zoom:t.zoom}},[a("l-tile-layer",{attrs:{url:t.url}}),t._l(t.mapItems,(function(e){return a("div",[a("l-marker",{attrs:{"lat-lng":e.latlng}},[a("l-tooltip",{attrs:{options:{permanent:!0,interactive:!0}}},[a("div",[t._v(t._s(e.offer))])])],1)],1)}))],2)],1)},X=[],Y=a("e11e"),tt=a.n(Y),et=a("2699"),at=a("a40a"),nt=a("4e2b"),it=a("31dc"),st={name:"MapView",props:["items"],components:{LMap:et["a"],LTileLayer:at["a"],LMarker:nt["a"],LTooltip:it["a"]},data:function(){return{zoom:12,center:tt.a.latLng(52.41349,13.416732),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}},computed:{mapItems:function(){return this.items.map((function(t){return Object.assign({latlng:tt.a.latLng(t.location.lat,t.location.lng)},t)}))}}},rt=st,ot=(a("014f"),Object(d["a"])(rt,Z,X,!1,null,"787445c4",null)),lt=ot.exports,ct={name:"LandingPage",components:{Navigation:f,ItemSearch:z,ItemList:J,MapView:lt},data:function(){return{selectedUser:{_id:null,name:""},user_location:null,perimeter_rectangle:null,filter_offer_by:"",filter_search_by:"",items:[]}},computed:{filteredItems:function(){var t=this.items,e=this;return""!==e.filter_search_by&&"Alles"!==e.filter_search_by&&(console.log("Filter search by "+this.filter_search_by),t=t.filter((function(t){return t.offer===e.filter_search_by}))),""!==e.filter_offer_by&&"Alles"!==e.filter_offer_by&&(console.log("Filter offer by "+this.filter_offer_by),t=t.filter((function(t){return t.tradeFor===e.filter_offer_by}))),t},filterKeywords:function(){var t=[],e=[];return this.items.map((function(a){-1===t.indexOf(a.offer)&&t.push(a.offer),-1===e.indexOf(a.tradeFor)&&e.push(a.tradeFor)})),{searchFilter:t,offeringsFilter:e}}},methods:{contactUser:function(t){this.selectedUser=t,Q()(".modal").modal(),Q()("#modal-text").focus(),console.log("Set user id to "+t._id)},sendMessage:function(){this.contactUser||console.error("Missing user id")},filterBySearch:function(t){this.filter_search_by=t},filterByOffer:function(t){this.filter_offer_by=t},getUserLocation:function(t){if("geolocation"in navigator)navigator.geolocation.getCurrentPosition((function(e){t({long:e.coords.longitude.toFixed(2),lat:e.coords.longitude.toFixed(2)})}));else{var e=prompt("Wir benötigen Deine ungefähre Position, um Angebote in Deiner Nähe zu finden. Bitte gib Deine PLZ an:");t(e)}},getPerimeterRectangle:function(t){var e={latitude:t.lat-20,longitude:t.long-20},a={latitude:Number(t.lat)+20,longitude:Number(t.long)+20};return{topLeftLocation:e,bottomRightLocation:a}},fetchItemList:function(t){console.log("Fetch item list...");var e=this,a="http://localhost:5000/api/search?topLeftLocation=52.40,13.40&lowerRightLocation=52.43,13.43";Q.a.getJSON(a).done((function(t){console.log("Fetched item data"),console.log(t),e.items=t})).fail((function(t){console.log(t)}))}},created:function(){var t=this;console.log("Retrieve user location..."),this.getUserLocation((function(e){t.user_location=e;var a=t.getPerimeterRectangle(e);t.fetchItemList(a)}))}},dt=ct,ut=Object(d["a"])(dt,j,F,!1,null,null,null),ft=ut.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"white"},attrs:{id:"app"}},t._l(t.messages,(function(e){return a("div",{key:e.id},[0==e.id?a("div",{staticClass:"box1 sb1"},[t._v(t._s(e.message))]):t._e(),1==e.id?a("div",{staticClass:"box2 sb2"},[t._v(t._s(e.message))]):t._e()])})),0)},pt=[],ht={name:"App",data:function(){return{messages:[{message:"Hey, ich hätte 2 Packungen Nudeln. Tauschst du gegen dein Klopapier?",id:0},{message:"Klar, wie tauschen wir?",id:1},{message:"Ich könnte es dir heute um 14 Uhr vor die Tür legen, wenn du das Klopapier rauslegst nehme ich es dann mit",id:0},{message:"Ja passt für mich.",id:1},{message:"Ich wohne in der Prototypstraße 13, gelbes Haus",id:1},{message:"Super! Ich schreib dir wenn ich da bin!",id:0}]}},mounted:function(){}},gt=ht,vt=(a("f196"),Object(d["a"])(gt,mt,pt,!1,null,null,null)),bt=vt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.dataLoaded?a("div",{staticClass:"container",staticStyle:{"padding-top":"1vh"}},[a("md-dialog-confirm",{attrs:{"md-active":t.deleteAccount,"md-title":"Account löschen","md-content":"Willst du deinen Account wirklich löschen? Um mit Nutzern in Kontakt zu treten musst du dich erneut registrieren.","md-confirm-text":"Account löschen","md-cancel-text":"Abbrechen"},on:{"update:mdActive":function(e){t.deleteAccount=e},"update:md-active":function(e){t.deleteAccount=e},"md-cancel":function(e){return t.onCancel()},"md-confirm":function(e){return t.onConfirm()}}}),a("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.showRevalidation,id:"passwordDialog"},on:{"update:mdActive":function(e){t.showRevalidation=e},"update:md-active":function(e){t.showRevalidation=e}}},[a("md-dialog-title",[t._v("Bitte gib zur Bestätigung dein Passwort ein:")]),a("p",{staticClass:"error pink-text center-align"}),a("md-field",[a("label",[t._v("Passwort")]),a("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showRevalidation=!1}}},[t._v("Abbrechen")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){return t.onReauthenticate()}}},[t._v("Speichern")])],1)],1),a("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.changePasswd,id:"changePasswd"},on:{"update:mdActive":function(e){t.changePasswd=e},"update:md-active":function(e){t.changePasswd=e}}},[a("p",{staticClass:"error pink-text center-align"}),a("md-dialog-title",[t._v("Passwort ändern")]),a("md-field",[a("label",[t._v("Altes Passwort:")]),a("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("md-field",[a("label",[t._v("Neues Passwort:")]),a("md-input",{attrs:{type:"password"},model:{value:t.newPasswd,callback:function(e){t.newPasswd=e},expression:"newPasswd"}})],1),a("md-field",[a("label",[t._v("Neues Passwort bestätigen:")]),a("md-input",{attrs:{type:"password"},model:{value:t.newPasswdConf,callback:function(e){t.newPasswdConf=e},expression:"newPasswdConf"}})],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.changePasswd=!1}}},[t._v("Abbrechen")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){return t.checkPasswd()}}},[t._v("Speichern")])],1)],1),a("md-dialog",{staticClass:"dialog",attrs:{"md-active":t.newOffering,id:"newOffering"},on:{"update:mdActive":function(e){t.newOffering=e},"update:md-active":function(e){t.newOffering=e}}},[a("p",{staticClass:"error pink-text center-align"}),a("md-dialog-title",[t._v("Neues Tauschangebot anlegen")]),a("md-field",[a("label",[t._v("Was bietest du an?")]),a("md-input",{model:{value:t.newTrade.offer,callback:function(e){t.$set(t.newTrade,"offer",e)},expression:"newTrade.offer"}})],1),a("md-field",[a("label",[t._v("Was möchtest du dafür haben? (Kann auch leer gelassen werden)")]),a("md-input",{model:{value:t.newTrade.tradeFor,callback:function(e){t.$set(t.newTrade,"tradeFor",e)},expression:"newTrade.tradeFor"}})],1),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.newOffering=!1}}},[t._v("Abbrechen")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){return t.addOffering()}}},[t._v("Speichern")])],1)],1),a("h1",{staticStyle:{display:"inline"}},[t._v("Account")]),a("div",{staticStyle:{float:"right"}},[a("md-button",{staticClass:"md-accent",on:{click:function(e){t.deleteAccount=!0}}},[t._v("Profil löschen")])],1),a("hr"),t._v(" Danke "),a("p",{staticClass:"nameHighlight"},[t._v(t._s(t.user.displayName))]),t._v(", dass du unsere Idee unterstützt! "),a("div",{staticStyle:{height:"2.5vh"}}),a("table",{staticClass:"tableSize"},[a("tr",{staticStyle:{margin:"5px"}},[a("td",[t._v("Nutzername:")]),a("td",[t._v(t._s(t.user.displayName))])]),t._m(0),a("tr",[a("td",[t._v("E-Mail:")]),a("td",[t._v(t._s(t.user.email))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("md-button",{staticClass:"md-default tableSize",on:{click:function(e){t.changePasswd=!0}}},[t._v("Passwort ändern")])],1)]),a("tr",[a("td",{attrs:{colspan:"2"}},[a("md-button",{staticClass:"md-default tableSize",on:{click:function(e){t.changeProfile=!0}}},[t._v("Profil bearbeiten")])],1)])]),a("div",{staticStyle:{height:"2.5vh"}}),a("hr"),a("h1",{staticStyle:{display:"inline"}},[t._v("Account")]),a("div",{staticStyle:{float:"right"}},[a("md-button",{staticClass:"md-icon-button md-raised",on:{click:function(e){t.newOffering=!0}}},[a("md-icon"),t._v("add")],1)],1),a("hr")],1):t._e()},wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{"padding-bottom":"2vh"}})])}],yt={data:function(){return{user:null,dataLoaded:!1,deleteAccount:!1,showRevalidation:!1,password:null,changeProfile:!1,changePasswd:!1,newPasswd:null,newPasswdConf:null,offerings:[],newTrade:{userId:null,offer:null,location:{lng:null,lat:null},tradeFor:null},newOffering:!1}},mounted:function(){var t=this;b.a.auth().onAuthStateChanged((function(e){e?(t.user=e,t.dataLoaded=!0,console.log(t.user)):t.$modal.show()}))},methods:{onConfirm:function(){var t=this;b.a.auth().currentUser.delete().then((function(){t.$router.push("/")})).catch((function(e){"auth/requires-recent-login"==e.code&&(t.showRevalidation=!0)}))},onCancel:function(){this.deleteAccount=!1},onReauthenticate:function(){var t=this;b.a.auth().signInWithEmailAndPassword(this.user.email,this.password).then((function(e){t.showRevalidation=!1,t.deleteAccount=!0,passwordDialog.querySelector(".error").innerHTML="",changePasswd.querySelector(".error").innerHTML=""})).catch((function(t){passwordDialog.querySelector(".error").innerHTML=t.message})),b.a.auth().currentUser.delete().then((function(){t.$router.push("/")})).catch((function(e){"auth/requires-recent-login"==e.code&&(t.showRevalidation=!0)}))},checkPasswd:function(){var t=this,e=this;this.newPasswd==this.newPasswdConf?b.a.auth().signInWithEmailAndPassword(this.user.email,this.password).then((function(a){b.a.auth().currentUser.updatePassword(t.newPasswd).then((function(t){})).catch((function(t){changePasswd.querySelector(".error").innerHTML=t.message})),changePasswd.querySelector(".error").innerHTML="",e.changePasswd=!1,e.newPasswd=e.newPasswdConf=e.password=null})).catch((function(t){changePasswd.querySelector(".error").innerHTML=t.message})):changePasswd.querySelector(".error").innerHTML="New passwords don't match"},addOffering:function(){console.log(this.user),this.newTrade.userId=this.user.uid,console.log(this.newTrade);var t=this;I.a.post("http://localhost:5000/api/offerings/123456",this.newTrade).then((function(e){console.log("success"),t.newOffering=!1})).catch((function(t){return console.log(t)}))}}},Ct=yt,Pt=(a("4145"),Object(d["a"])(Ct,_t,wt,!1,null,"ed7983ae",null)),xt=Pt.exports;n["default"].use(E.a),n["default"].use(O["a"]),n["default"].use($["a"]),n["default"].use(L),n["default"].use(w["a"],{globals:{showModal:!1}}),n["default"].use(_["a"]),n["default"].config.productionTip=!1;var kt={apiKey:"AIzaSyA8Cnt81CF00BWGof4H-jEr-n0GjDisfDQ",authDomain:"coronaexchange-44512.firebaseapp.com",databaseURL:"https://coronaexchange-44512.firebaseio.com/",projectId:"coronaexchange-44512",storageBucket:"coronaexchange-44512.appspot.com",messagingSenderId:"468202509714",appId:"1:468202509714:web:0605968eec17c13b1f9d4b"};v["initializeApp"](kt),delete Y["Icon"].Default.prototype._getIconUrl,Y["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var St=new _["a"]({routes:[{path:"/",component:ft},{path:"/register",component:S},{path:"/Chat",component:bt},{path:"/Account",component:xt}]});new n["default"]({router:St,render:function(t){return t(g)}}).$mount("#app")},"7d42":function(t,e,a){},"85ec":function(t,e,a){},"98c2":function(t,e,a){"use strict";var n=a("7d42"),i=a.n(n);i.a},c1c3:function(t,e,a){},d6b0:function(t,e,a){},d997:function(t,e,a){},e412:function(t,e,a){},f196:function(t,e,a){"use strict";var n=a("1e3e"),i=a.n(n);i.a},f198:function(t,e,a){}});
//# sourceMappingURL=app.f245c8ee.js.map